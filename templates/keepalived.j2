{{ '## ' + 'keepalived.conf' }}
{{ '# ' + ansible_managed }}
{{ '# ' + 'Do not edit manually' }}

{% for k in hostvars[inventory_hostname]['keepalived'] %}
{% if k.global is defined and k.global != '' %}
{% include 'global_defs.j2' %}
{% endif %}
{% if k.static_ipaddress is defined and k.static_ipaddress != '' %}
{% include 'static_ipaddress.j2' %}
{% endif %}
{% if k.static_routes is defined and k.static_routes != '' %}
{% include 'static_routes.j2' %}
{% endif %}
{% if k.static_rules is defined and k.static_rules != '' %}
{% include 'static_rules.j2' %}
{% endif %}
{% if k.vrrp_script is defined and k.vrrp_script != '' %}
{% include 'vrrp_script.j2' %}
{% endif %}
{% if k.vrrp_sync_group is defined and k.vrrp_sync_group != '' %}
{% include 'vrrp_sync_group.j2' %}
{% endif %}
{% if k.garp_group is defined and k.garp_group != '' %}
{% include 'garp_group.j2' %}
{% endif %}
{% if k.vrrp_instance is defined and k.vrrp_instance != '' %}
{% include 'vrrp_instance.j2' %}
{% endif %}
{% if k.ssl is defined and k.ssl != '' %}
{% include 'ssl.j2' %}
{% endif %}
{% if k.virtual_server_group is defined and k.virtual_server_group != '' %}
{% include 'virtual_server_group.j2' %}
{% endif %}
{% if k.virtual_server is defined and k.virtual_server != '' %}
{% include 'virtual_server.j2' %}
{% endif %}
{% endfor %}
